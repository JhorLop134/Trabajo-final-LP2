
    <!DOCTYPE html>
    <html lang="es">
    <head>
    <meta charset="UTF-8">
    <title>Info-Canasta Pro</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        body { background-color: #f4f7fa; font-family: 'Poppins', sans-serif; color: #333; }
        
        .header-bg {
            background: linear-gradient(120deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 45px 0;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        
        .card { border: none; border-radius: 16px; background: white; box-shadow: 0 5px 20px rgba(0,0,0,0.03); transition: all 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.08); }
        
        .kpi-title { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; color: #888; font-weight: 600; }
        .kpi-value { font-size: 2.2rem; font-weight: 700; color: #2d3436; margin: 5px 0; }
        
        .live-dot { height: 10px; width: 10px; background-color: #2ecc71; border-radius: 50%; display: inline-block; margin-right: 5px; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7); } 70% { box-shadow: 0 0 0 6px rgba(46, 204, 113, 0); } 100% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); } }

        .ia-card { border-left: 6px solid; }
        .ia-card-danger { border-color: #ff6b6b; }
        .ia-card-success { border-color: #1dd1a1; }
        .ia-card-warning { border-color: #feca57; }
        
        .chat-bubble { background: #f1f2f6; padding: 12px; border-radius: 0 12px 12px 12px; font-size: 0.9rem; color: #57606f; position: relative; margin-top: 10px; }
        .chat-bubble::before { content: ""; position: absolute; top: 0; left: -10px; width: 0; height: 0; border: 10px solid transparent; border-top-color: #f1f2f6; border-right: 0; margin-top: 0; margin-right: -10px; }

        .custom-table { margin-bottom: 0; }
        .custom-table thead { background-color: #2d3436; color: white; }
        .custom-table th { padding: 15px; font-weight: 600; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; border: none; text-align: center !important; }
        .custom-table td { padding: 12px 15px; vertical-align: middle; border-bottom: 1px solid #f1f2f6; font-size: 0.9rem; text-align: center; }
        .custom-table td:nth-child(2) { min-width: 250px; font-weight: 500; color: #2c3e50; text-align: left !important; }
        .custom-table td:nth-child(3) { font-weight: 700; color: #198754; font-size: 1rem; }
    </style>
    </head>
    
    <body>
    
    <div class="header-bg text-center">
        <h1 class="fw-bold mb-2"><i class="fas fa-shopping-basket me-2"></i> Info-Canasta</h1>
        <p class="opacity-75 mb-3">Monitor de Inflaci칩n y Predicci칩n Inteligente</p>
        <div class="d-inline-block bg-white bg-opacity-10 px-4 py-2 rounded-pill backdrop-blur">
            <small>Equipo: Megumi | Jhordy | Estiven</small>
        </div>
    </div>
    
    <div class="container pb-5">
        <div class="row g-4 mb-4">
            <div class="col-md-4">
                <div class="card p-4 h-100">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="kpi-title">Costo Canasta</div>
                            <div class="kpi-value">S/ 62.59</div>
                            <small class="text-muted d-flex align-items-center"><span class="live-dot"></span> Actualizado: 29/12/2025</small>
                        </div>
                        <div class="text-primary opacity-25 display-4"><i class="fas fa-receipt"></i></div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card p-4 h-100">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="kpi-title">Tipo de Cambio</div>
                            <div class="kpi-value">$ 3.37</div>
                            <small class="text-success fw-bold"><i class="fas fa-check-circle"></i> BCRP Oficial</small>
                        </div>
                        <div class="text-success opacity-25 display-4"><i class="fas fa-money-bill-wave"></i></div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card p-4 h-100 ia-card ia-card-danger">
                    <div class="d-flex align-items-center mb-2">
                        <i class="fas fa-robot me-2 text-danger"></i>
                        <span class="fw-bold text-danger small">ASISTENTE IA</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-end">
                        <h3 class="mb-0 fw-bold">S/ 62.74</h3>
                        <span class="badge bg-danger"><i class="fas fa-arrow-trend-up"></i> Subir치 游늳</span>
                    </div>
                    <div class="d-flex mt-3">
                        <div class="me-2"><i class="fas fa-user-astronaut text-secondary fa-lg"></i></div>
                        <div class="chat-bubble shadow-sm">Por <b>campa침a de A침o Nuevo</b> y la tendencia del d칩lar, el <b>Lim칩n</b> subir치 a <b>S/ 3.34</b>. 춰Compra hoy!</div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="row g-4">
            <div class="col-lg-7">
                <div class="card p-4 h-100">
                    <h5 class="fw-bold mb-4 text-secondary"><i class="fas fa-list-ul me-2"></i> Historial de Productos</h5>
                    <div class="table-responsive"><table class="dataframe table table-hover align-middle custom-table">
  <thead>
    <tr style="text-align: right;">
      <th>FECHA</th>
      <th>PRODUCTO</th>
      <th>PRECIO (S/)</th>
      <th>PRECIO ($)</th>
      <th>T.C.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>29/12/2025</td>
      <td>Leche UHT Entera Gloria Caja 946 mL</td>
      <td>6.10</td>
      <td>1.81</td>
      <td>3.365</td>
    </tr>
    <tr>
      <td>29/12/2025</td>
      <td>Aceite Vegetal Primor Cl치sico Botella 900 mL</td>
      <td>8.50</td>
      <td>2.53</td>
      <td>3.365</td>
    </tr>
    <tr>
      <td>29/12/2025</td>
      <td>Arroz Fara칩n Extra Bolsa 5 Kg</td>
      <td>24.90</td>
      <td>7.40</td>
      <td>3.365</td>
    </tr>
    <tr>
      <td>29/12/2025</td>
      <td>Huevos Pardos Tottus Bandeja 15 Und</td>
      <td>10.00</td>
      <td>2.97</td>
      <td>3.365</td>
    </tr>
    <tr>
      <td>29/12/2025</td>
      <td>Pollo Fresco Con Menudencia x Kg</td>
      <td>9.90</td>
      <td>2.94</td>
      <td>3.365</td>
    </tr>
    <tr>
      <td>29/12/2025</td>
      <td>Lim칩n Sutil Tottus</td>
      <td>3.19</td>
      <td>0.95</td>
      <td>3.365</td>
    </tr>
  </tbody>
</table></div>
                </div>
            </div>
    
            <div class="col-lg-5">
                <div class="card p-4 h-100">
                    <h5 class="fw-bold mb-3 text-secondary"><i class="fas fa-chart-pie me-2"></i> An치lisis Visual de Costos</h5>
                    <img src="grafico_precios.png" class="img-fluid rounded border border-light mb-2" alt="Gr치fico Productos">
                    <div class="mt-2 mb-4 text-center">
                        <small class="text-muted"><i class="fas fa-info-circle"></i> Datos visualizados en tiempo real.</small>
                    </div>

                    <hr class="border-secondary opacity-25">
                    
                    <h6 class="fw-bold text-secondary mb-3 mt-3"><i class="fas fa-dollar-sign me-2"></i> Historial BCRP (Real)</h6>
                    
                    <div style="height: 200px; width: 100%; position: relative;">
                        <canvas id="dolarChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const ctx = document.getElementById('dolarChart');
            
            if (ctx) {
                const context = ctx.getContext('2d');
                const gradient = context.createLinearGradient(0, 0, 0, 200);
                gradient.addColorStop(0, 'rgba(0, 200, 83, 0.2)');
                gradient.addColorStop(1, 'rgba(0, 200, 83, 0.0)');

                // INYECCI칍N SEGURA DE JSON DESDE PYTHON
                const labelsData = ["19/12", "22/12", "23/12", "24/12", "29/12"]; 
                const valuesData = [3.372, 3.372, 3.371, 3.369, 3.369];

                new Chart(context, {
                    type: 'line',
                    data: {
                        labels: labelsData,
                        datasets: [{
                            label: 'Tipo de Cambio',
                            data: valuesData,
                            borderColor: '#00C853',
                            backgroundColor: gradient,
                            borderWidth: 3,
                            pointBackgroundColor: '#fff',
                            pointBorderColor: '#00C853',
                            pointRadius: 5,
                            pointHoverRadius: 8,
                            fill: true,
                            tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                backgroundColor: 'rgba(0,0,0,0.8)',
                                callbacks: { label: (c) => 'S/ ' + c.parsed.y.toFixed(3) }
                            }
                        },
                        scales: {
                            x: { grid: { display: false } },
                            y: { grid: { borderDash: [5, 5] }, ticks: { color: '#888' } }
                        },
                        interaction: { mode: 'nearest', axis: 'x', intersect: false }
                    }
                });
            } else {
                console.error("No se encontr칩 el canvas para el gr치fico");
            }
        });
    </script>
    </body>
    </html>
    